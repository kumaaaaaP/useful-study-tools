<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>鉄壁単語リスト - 検索機能付き</title>
    <style>
        body {
            font-family: 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            background-color: #f4f7f6;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 900px;
            margin: auto;
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            color: #333;
        }
        .search-box {
            margin-bottom: 20px;
            width: 100%;
            padding: 12px;
            font-size: 16px;
            border: 2px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
            outline: none;
            transition: border-color 0.3s;
        }
        .search-box:focus {
            border-color: #007bff;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        th {
            background-color: #007bff;
            color: white;
            position: sticky;
            top: 0;
        }
        tr:hover {
            background-color: #f1f1f1;
        }
        .no-result {
            text-align: center;
            padding: 20px;
            color: #888;
        }
        .num-col { width: 10%; }
        .eng-col { width: 30%; font-weight: bold; color: #007bff; }
        .jp-col { width: 60%; }
    </style>
</head>
<body>

<div class="container">
    <h1>鉄壁 単語リスト</h1>
    
    <input type="text" id="searchInput" class="search-box" placeholder="英単語または日本語で検索...">

    <table id="wordTable">
        <thead>
            <tr>
                <th class="num-col">#</th>
                <th class="eng-col">英単語</th>
                <th class="jp-col">日本語訳</th>
            </tr>
        </thead>
        <tbody id="tableBody">
            </tbody>
    </table>
    <div id="noResult" class="no-result" style="display: none;">該当する単語が見つかりません。</div>
</div>

<script src="teppeki-script.js"></script>

<script>
    // HTML要素の取得
    const tableBody = document.getElementById('tableBody');
    const searchInput = document.getElementById('searchInput');
    const noResult = document.getElementById('noResult');

    /**
     * テーブルを初期表示する関数
     * @param {Array} words 表示する単語データの配列
     */
    function renderTable(words) {
        tableBody.innerHTML = '';
        if (words.length === 0) {
            noResult.style.display = 'block';
            return;
        }
        noResult.style.display = 'none';

        words.forEach((word, index) => {
            const row = document.createElement('tr');
            
            // 問題番号は配列のインデックス+1（データ側に番号がある場合は word.id などに適宜変更してください）
            const cellNum = document.createElement('td');
            cellNum.textContent = index + 1;
            cellNum.className = 'num-col';

            const cellEng = document.createElement('td');
            cellEng.textContent = word.english;
            cellEng.className = 'eng-col';

            const cellJp = document.createElement('td');
            cellJp.textContent = word.japanese;
            cellJp.className = 'jp-col';

            row.appendChild(cellNum);
            row.appendChild(cellEng);
            row.appendChild(cellJp);
            tableBody.appendChild(row);
        });
    }

    // 初回表示
    window.addEventListener('DOMContentLoaded', () => {
        if (typeof allWords !== 'undefined') {
            renderTable(allWords);
        } else {
            console.error('teppeki.js が正しく読み込まれていないか、allWords 配列が見つかりません。');
            tableBody.innerHTML = '<tr><td colspan="3" class="no-result">データの読み込みに失敗しました。</td></tr>';
        }
    });

    // 検索機能のイベントリスナー
    searchInput.addEventListener('input', (e) => {
        const keyword = e.target.value.toLowerCase();
        
        // フィルタリング処理
        const filteredWords = allWords.filter(word => {
            return word.english.toLowerCase().includes(keyword) || 
                   word.japanese.includes(keyword);
        });

        renderTable(filteredWords);
    });
</script>

</body>
</html>
